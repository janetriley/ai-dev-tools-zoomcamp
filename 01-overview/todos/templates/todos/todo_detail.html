{% extends 'todos/base.html' %}

{% block title %}{{ todo.title }}{% endblock %}

{% block content %}
<div style="margin-bottom: 20px;">
    <a href="{% url 'todo_list' %}">&larr; Back to List</a>
</div>

<div class="todo-detail" style="
    padding: 20px;
    background-color: {% if todo.completed %}#d4edda{% else %}#f8f9fa{% endif %};
    border: 1px solid {% if todo.completed %}#c3e6cb{% else %}#dee2e6{% endif %};
    border-radius: 4px;
">
    <h1 style="{% if todo.completed %}text-decoration: line-through; color: #6c757d;{% endif %}">
        {{ todo.title }}
    </h1>

    <div style="margin: 20px 0; padding: 15px; background-color: white; border-radius: 4px;">
        <h3 style="margin-bottom: 10px; color: #6c757d; font-size: 14px; text-transform: uppercase;">Description</h3>
        {% if todo.description %}
        <p style="white-space: pre-wrap;">{{ todo.description }}</p>
        {% else %}
        <p style="color: #6c757d; font-style: italic;">No description provided</p>
        {% endif %}
    </div>

    <div style="margin: 20px 0; padding: 15px; background-color: white; border-radius: 4px;">
        <h3 style="margin-bottom: 10px; color: #6c757d; font-size: 14px; text-transform: uppercase;">Details</h3>
        <p><strong>Status:</strong>
            <span style="
                display: inline-block;
                padding: 2px 10px;
                border-radius: 12px;
                font-size: 12px;
                background-color: {% if todo.completed %}#28a745{% else %}#ffc107{% endif %};
                color: white;
            ">
                {% if todo.completed %}Completed{% else %}Pending{% endif %}
            </span>
        </p>
        <p><strong>Created:</strong> {{ todo.created_at|date:"F d, Y g:i A" }}</p>
        <p><strong>Last Updated:</strong> {{ todo.updated_at|date:"F d, Y g:i A" }}</p>
    </div>

    <div style="display: flex; gap: 10px; margin-top: 20px;">
        <a href="{% url 'todo_toggle' todo.pk %}" class="btn {% if todo.completed %}btn-secondary{% else %}btn-success{% endif %}">
            {% if todo.completed %}Mark as Pending{% else %}Mark as Complete{% endif %}
        </a>
        <a href="{% url 'todo_delete' todo.pk %}" class="btn btn-danger">Delete</a>
        <a href="{% url 'todo_list' %}" class="btn btn-secondary">Back to List</a>
    </div>
</div>
{% endblock %}
